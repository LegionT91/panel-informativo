
<!DOCTYPE html>
<html lang="es">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Panel de Noticias</title>
	<link href="style.css" rel="stylesheet">
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-sRIl4kxILFvY47J16cr9ZwB07vP4J8+LH7qKQnuqkuIAvNWLzeN8tE5YBujZqJLB" crossorigin="anonymous">
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js" integrity="sha384-FKyoEForCGlyvwx9Hj09JcYn3nv7wiPVlz7YYwJrWVcXK/BmnVDxM+D2scQbITxI" crossorigin="anonymous"></script>

</head>
<body>
	<div class="header">
		<div class="logo">
			<img class="logo-img" src="https://complejoprincipedegales.cl/wp-content/uploads/2023/07/Logo-sin-fondo-3-e1729003593989.png" alt="Logo Colegio" />
		</div>
		<div class="title">PANEL DE NOTICIAS</div>
<button type="button" class="btn btn-primary" id="boton" data-bs-toggle="modal" data-bs-target="#exampleModal">
  +
</button>
	</div>
	<div class="news-container">
		<div class="news-card">
			<img class="news-img" src="https://images.unsplash.com/photo-1506744038136-46273834b3fb?auto=format&fit=crop&w=400&q=80" alt="Empanadas y bebida chilena" />
			<button class="close-btn" title="Eliminar noticia" onclick="window.open('https://google.cl')">&times;</button>
			<div class="news-text">Se acerca el 18, con ello actividades recreativas ¡Pásalo chancho!</div>
		</div>
		<div class="news-card">
			<img class="news-img" src="https://images.unsplash.com/photo-1517649763962-0c623066013b?auto=format&fit=crop&w=400&q=80" alt="Campeonato de Futbol" />
			<button class="close-btn" title="Eliminar noticia" onclick="window.open('https://google.cl')"">&times;</button>
			<div class="news-text">Actividades Recreativas: Campeonato de Futbol</div>
		</div>
		<div class="news-card">
			<img class="news-img" src="https://images.unsplash.com/photo-1504674900247-0877df9cc836?auto=format&fit=crop&w=400&q=80" alt="Sopaipillas" />
			<button class="close-btn" title="Eliminar noticia" onclick="window.open('https://google.cl')"">&times;</button>
			<div class="news-text">Venta de sopaipillas 3° Administración</div>
		</div>
	</div>

<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
  <div class="modal-dialog">
    <div class="modal-content">
      <div class="modal-header">
		<h1 class="modal-title fs-5 text-center w-100" id="exampleModalLabel" style="text-align:center;">Añadir Noticia</h1>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
				<form id="addNewsForm">
					<div class="mb-3">
						<label for="newsTitle" class="form-label" style="font-size:1.2em; display:block; text-align:center;">Título noticia:</label>
						<textarea class="form-control" id="newsTitle" rows="2" placeholder="Escribe el título de la noticia" required></textarea>
					</div>
					<div class="row mb-3">
						<div class="col">
							<label for="startDate" class="form-label">Fecha inicio:</label>
							<input type="date" class="form-control" id="startDate" required>
						</div>
						<div class="col">
							<label for="endDate" class="form-label">Fecha finalización:</label>
							<input type="date" class="form-control" id="endDate" required>
						</div>
					</div>
					<div class="mb-3 text-center">
						<label for="newsImage" class="form-label" style="width:100%;font-size:1.3em;display:block;">Haga clic para subir una imagen</label>
						<input type="file" class="form-control" id="newsImage" accept="image/*" style="display:none;">
						<div id="imagePreview" style="border:2px solid #ccc;border-radius:10px;padding:16px;cursor:pointer;display:inline-block;width:180px;height:140px;background:#f3f3f3;" onclick="document.getElementById('newsImage').click()">
							<svg xmlns="http://www.w3.org/2000/svg" width="64" height="64" fill="none" stroke="#888" stroke-width="2" viewBox="0 0 24 24" style="margin-top:20px;">
								<rect x="3" y="3" width="18" height="18" rx="4"/>
								<circle cx="8" cy="8" r="2.5"/>
								<path d="M3 17l4-4a2 2 0 0 1 2.8 0l2.2 2.2a2 2 0 0 0 2.8 0l3.2-3.2"/>
							</svg>
							<div style="color:#888;font-size:1em;margin-top:8px;">Imagen</div>
						</div>
					</div>
				</form>
      </div>
      <div class="modal-footer">
	<button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancelar</button>
	<button type="submit" class="btn btn-primary" form="addNewsForm">Añadir noticia</button>
      </div>
    </div>
  </div>
</div>

<script>
// Vista previa de imagen
document.addEventListener('DOMContentLoaded', function() {
	const imageInput = document.getElementById('newsImage');
	const imagePreview = document.getElementById('imagePreview');
	imageInput.addEventListener('change', function(e) {
		if (e.target.files && e.target.files[0]) {
			const reader = new FileReader();
			reader.onload = function(ev) {
				imagePreview.innerHTML = `<img src='${ev.target.result}' style='max-width:100%;max-height:100px;border-radius:8px;' />`;
			};
			reader.readAsDataURL(e.target.files[0]);
		}
	});

	// Enviar formulario
	document.getElementById('addNewsForm').addEventListener('submit', function(e) {
		e.preventDefault();
		const title = document.getElementById('newsTitle').value;
		const start = document.getElementById('startDate').value;
		const end = document.getElementById('endDate').value;
		const imageFile = imageInput.files[0];
		// Aquí puedes agregar la lógica para guardar la noticia
		alert('Noticia añadida:\n' + title + '\nInicio: ' + start + '\nFin: ' + end + (imageFile ? '\nImagen seleccionada' : ''));
		// Cerrar modal
		const modal = bootstrap.Modal.getOrCreateInstance(document.getElementById('exampleModal'));
		modal.hide();
		// Limpiar formulario
		e.target.reset();
		imagePreview.innerHTML = `<svg xmlns='http://www.w3.org/2000/svg' width='64' height='64' fill='none' stroke='#888' stroke-width='2' viewBox='0 0 24 24' style='margin-top:20px;'><rect x='3' y='3' width='18' height='18' rx='4'/><circle cx='8' cy='8' r='2.5'/><path d='M3 17l4-4a2 2 0 0 1 2.8 0l2.2 2.2a2 2 0 0 0 2.8 0l3.2-3.2'/></svg><div style='color:#888;font-size:1em;margin-top:8px;'>Imagen</div>`;
	});
});
</script>
</body>
</html>
